<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="DmrfCoder的个人主页">
<meta property="og:url" content="http://www.mashangxue123.com/page/13/index.html">
<meta property="og:site_name" content="DmrfCoder的个人主页">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DmrfCoder的个人主页">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.mashangxue123.com/page/13/">





  <title>DmrfCoder的个人主页</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DmrfCoder的个人主页</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.mashangxue123.com/2017/11/02/ubuntu下配置cafe时无法链接libcudart.so.8.0的解决方案/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DmrfCoder">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DmrfCoder的个人主页">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/02/ubuntu下配置cafe时无法链接libcudart.so.8.0的解决方案/" itemprop="url">ubuntu下配置cafe时无法链接libcudart.so.8.0的解决方案</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-02T14:11:57+08:00">
                2017-11-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/ubuntu/" itemprop="url" rel="index">
                    <span itemprop="name">ubuntu</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>报错信息如下：error while loading shared libraries: libcudart.so.8.0: cannot open<br>shared object file: No such file or directory</p>
<p>解决方案：sudo ldconfig /usr/local/cuda/lib64</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.mashangxue123.com/2017/11/01/ubuntu16.04下使用自带Remmina控制别的ubuntu机器的方法/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DmrfCoder">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DmrfCoder的个人主页">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/01/ubuntu16.04下使用自带Remmina控制别的ubuntu机器的方法/" itemprop="url">ubuntu16.04下使用自带Remmina控制别的ubuntu机器的方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-01T17:14:51+08:00">
                2017-11-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/ubuntu/" itemprop="url" rel="index">
                    <span itemprop="name">ubuntu</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Ubuntu16-04下安装TeamViewer远程协助软件"><a href="#Ubuntu16-04下安装TeamViewer远程协助软件" class="headerlink" title="Ubuntu16.04下安装TeamViewer远程协助软件"></a>Ubuntu16.04下安装TeamViewer远程协助软件</h1><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>团队开发中经常会使用到远程协助软件，当团队成员遇到问题的时候其他成员可以远程帮助解决，在TeamViewer是一款优秀的跨平台协作软件，这里简要介绍一下Ubuntu16.04系统下的安装方法：</p>
<h2 id="下载deb包"><a href="#下载deb包" class="headerlink" title="下载deb包"></a>下载deb包</h2><p>首先打开 <a href="https://www.teamviewer.com/en/download/linux/" target="_blank" rel="noopener"> TeamViewer的官网 </a><br>下载对应系统版本的deb包：<br><img src="https://img-
blog.csdn.net/20171101171349843?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>下载到的是一个32位的deb包。Debian 6/Ubuntu<br>10等旧发行版本可以下载64位deb包，因为它们没有Multiarch多架构功能。对于Ubuntu 16.04，我们必须下载32位deb包，因为Ubuntu<br>16.04具备多架构功能，即使是64位的Ubuntu 16.04系统也能安装32位的deb包。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>下载好deb包后打开终端并将目录切换到deb包的位置（推荐直接把deb包放在home目录下，安装完成后即可删除）<br>64位Ubuntu 16.04系统首先需要添加32位架构支持，命令如下：</p>
<pre><code>sudo dpkg --add-architecture i386

sudo apt-get update
</code></pre><p>添加好后就还需要下载一些依赖包：</p>
<pre><code>sudo apt-get install libdbus-1-3:i386 libasound2:i386 libexpat1:i386 libfontconfig1:i386 libfreetype6:i386 libjpeg62:i386 libpng12-0:i386 libsm6:i386 libxdamage1:i386 libxext6:i386 libxfixes3:i386 libxinerama1:i386 libxrandr2:i386 libxrender1:i386 libxtst6:i386 zlib1g:i386 libc6:i386
</code></pre><p>现在就可以安装deb包了：</p>
<pre><code>sudo dpkg -i teamviewer*.deb
</code></pre><p>安装完成后输入：</p>
<pre><code>teamviewer
</code></pre><p>打开TeamViewer，然后点击Sign up按照提示操作就可以了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.mashangxue123.com/2017/10/30/ubuntu16.04下安装Matlab/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DmrfCoder">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DmrfCoder的个人主页">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/30/ubuntu16.04下安装Matlab/" itemprop="url">ubuntu16.04下安装Matlab</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-30T21:22:38+08:00">
                2017-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/ubuntu/" itemprop="url" rel="index">
                    <span itemprop="name">ubuntu</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>不想说太多废话直接开干吧，我看了好多教程写的挺好但是不给matlab的资源，所以先把我搞到的matlab资源给大家，下载链接: <a href="https://pan.baidu.com/s/1qYPvHSg" target="_blank" rel="noopener"><br>https://pan.baidu.com/s/1qYPvHSg </a> 密码: zwfq<br>下载完成之后打开应该有如下三个文件：<br><img src="https://img-
blog.csdn.net/20171030221901461?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>现在开始安装：</p>
<h2 id="挂载映像文件"><a href="#挂载映像文件" class="headerlink" title="挂载映像文件"></a>挂载映像文件</h2><p>在安装前，建议把所需文件都拷贝到了home目录，进行安装。那么使用下列命令挂先挂载R2016b_glnxa64_dvd1.iso：</p>
<pre><code>cd ~
mkdir matlab
sudo mount -t auto -o loop Linux/R2016b_glnxa64_dvd1.iso matlab/
</code></pre><h2 id="安装Matlab"><a href="#安装Matlab" class="headerlink" title="安装Matlab"></a>安装Matlab</h2><p>挂载iso之后，会发现文件系统多了一个盘，说明挂载成功，然后进行安装：</p>
<pre><code>cd matlab/
sudo ./matlab/install
</code></pre><p>依次按照下列状态执行：<br><img src="https://img-
blog.csdn.net/20171030222854940?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br><img src="https://img-
blog.csdn.net/20171030222915510?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br><img src="https://img-
blog.csdn.net/20171030223039292?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br><img src="https://img-
blog.csdn.net/20171030223004487?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br><img src="https://img-
blog.csdn.net/20171030223134019?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>到这里点击下一步即可开始安装，安装进行到80%左右的时候，会弹出一个提示框，说请插入dvd2，这时候我们需要重新开一个终端，把dvd2挂载到matlab文件夹中：</p>
<pre><code>sudo mount -t auto -o loop Linux/R2016b_glnxa64_dvd2.iso matlab/
</code></pre><p>然后在对话框中点击OK，继续安装。<br>安装完成后就可以卸载之前挂载的镜像和matlab文件夹了。</p>
<h2 id="激活Matlab"><a href="#激活Matlab" class="headerlink" title="激活Matlab"></a>激活Matlab</h2><p>安装完成后，打开matlab：</p>
<pre><code>cd /usr/local/MATLAB/R2016b/bin
./matlab
</code></pre><p>第一步，先载入激活文件license_standalone.lic（因为笔者已经激活了matlab所以无法截图，以下两张图片来源于网络）：<br><img src="https://img-
blog.csdn.net/20171030223420703?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br><img src="https://img-
blog.csdn.net/20171030223438717?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>第二步，把Crack文件夹中R2016b/Linux/R2016b/bin/glnxa64四个文件，复制到/usr/local/MATLAB/R2016b/bin/glnxa64目录下（为了命令行简单先把Matlab<br>2016b Linux64 Crack文件夹重命名为Crack，在linux目录下执行）：</p>
<pre><code>sudo cp Crack/R2016b/bin/glnxa64/libcufft.so.7.5.18 /usr/local/MATLAB/R2016b/bin/glnxa64

sudo cp Crack/R2016b/bin/glnxa64/libinstutil.so /usr/local/MATLAB/R2016b/bin/glnxa64

sudo cp Crack/R2016b/bin/glnxa64/libmwlmgrimpl.so /usr/local/MATLAB/R2016b/bin/glnxa64

sudo cp Crack/R2016b/bin/glnxa64/libmwservices.so  /usr/local/MATLAB/R2016b/bin/glnxa64
</code></pre><p>至此，MatLab已经安装、激活。</p>
<h2 id="创建快捷方式"><a href="#创建快捷方式" class="headerlink" title="创建快捷方式"></a>创建快捷方式</h2><p>通过以上步骤安装的matlab并没有快捷方式，读者可以通过创建环境变量或者创建快捷方式的方法来快速启动，笔者使用的是创建快捷方式的方法：</p>
<pre><code>sudo gedit /usr/share/applications/Matlab.desktop
</code></pre><p>写入以下内容（先把下图放进/usr/local/MATLAB/）：<br><img src="http://www.linuxidc.com/upload/2011_01/11012508084920.png" alt="这里写图片描述"></p>
<pre><code>[Desktop Entry]
Type=Application
Name=Matlab
GenericName=Matlab 2016b
Comment=Matlab:The Language of Technical Computing
Exec=sh /usr/local/MATLAB/R2016b/bin/matlab -desktop
Icon=/usr/local/MATLAB/Matlab.png
Terminal=false
Categories=Development;
Matlab;
</code></pre><p>好了，现在你就可以从快捷方式启动MatLab啦。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.mashangxue123.com/2017/10/30/ubuntu下运行caffe下的“Hello World”——mnist手写体数字识别例程/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DmrfCoder">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DmrfCoder的个人主页">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/30/ubuntu下运行caffe下的“Hello World”——mnist手写体数字识别例程/" itemprop="url">ubuntu下运行caffe下的“Hello World”——mnist手写体数字识别例程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-30T21:20:00+08:00">
                2017-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/深度学习之caffe/" itemprop="url" rel="index">
                    <span itemprop="name">深度学习之caffe</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>mnist例程几乎是所有深度学习入坑者首先要经历的，第一次跑是在windows下跑的，后来为了DL入坑Linux就没跑过了，因为几位小伙伴也有这方面需求，所以特意抽时间跑了一遍，将我的运行过程记录下来，希望可以帮到有希望的小伙伴。</p>
<h2 id="环境说明："><a href="#环境说明：" class="headerlink" title="环境说明："></a>环境说明：</h2><p>笔者的系统环境为Ubuntu16.04，且默认大家已经安装配置好了caffe环境，如果有同学没有配置好caffe可以移步笔者的 <a href="http://blog.csdn.net/qq_36982160/article/details/78176227%20caffe%E9%85%8D%E7%BD%AE%E7%AE%80%E7%A7%B0" target="_blank" rel="noopener"> 另外一篇文章
</a></p>
<h2 id="主要步骤"><a href="#主要步骤" class="headerlink" title="主要步骤"></a>主要步骤</h2><p>1：下载mnist数据集<br>2：生成LMDB<br>3：网络配置<br>4：训练网络<br>5：测试网络<br>6：利用训练好的模型预测单张数字图片</p>
<h2 id="下载mnist数据集"><a href="#下载mnist数据集" class="headerlink" title="下载mnist数据集"></a>下载mnist数据集</h2><p>mnist数据集可以在caffe源码框架的data/mnist下用get_mnist.sh脚本下载，具体命令如下（在caffe根目录下执行）：</p>
<pre><code>./data/mnist/get_mnist.sh
</code></pre><h2 id="生成LMDB"><a href="#生成LMDB" class="headerlink" title="生成LMDB"></a>生成LMDB</h2><p>我们下载到的数据集为二进制文件，需要转化为LEVELDB或LMDB才能被caffe识别，转化命令如下（在caffe根目录下执行）：</p>
<pre><code>./examples/mnist/create_mnist.sh
</code></pre><p>执行完这条命令以后我们就会在examples/mnist下发现mnist_train_lmdb和mnist_test_lmdb两个文件夹，每个文件夹里都有data.lmdb和lock.lmdb两个文件。</p>
<h2 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h2><p>mnist使用的是lenet网络模型，其定义在mnist的lenet_train_test.prototxt文件中，只需要注意source参数文件路径：</p>
<pre><code>layer {
  name: &quot;mnist&quot;
  type: &quot;Data&quot;
  top: &quot;data&quot;
  top: &quot;label&quot;
  include {
    phase: TRAIN
  }
  transform_param {
    scale: 0.00390625
  }
  data_param {
    source: &quot;examples/mnist/mnist_train_lmdb&quot;
    batch_size: 64
    backend: LMDB
  }
}
layer {
  name: &quot;mnist&quot;
  type: &quot;Data&quot;
  top: &quot;data&quot;
  top: &quot;label&quot;
  include {
    phase: TEST
  }
  transform_param {
    scale: 0.00390625
  }
  data_param {
  //主要注意这里的路径为mnist_test_lmdb的路径就好（一般默认的路径都是对的）
    source: &quot;examples/mnist/mnist_test_lmdb&quot;
    batch_size: 100
    backend: LMDB
  }
}
</code></pre><h2 id="训练网络"><a href="#训练网络" class="headerlink" title="训练网络"></a>训练网络</h2><p>确保mnist的网络模型没有问题后我们在caffe根目录下输入以下命令开始训练网络：</p>
<pre><code>./examples/mnist/train_lenet.sh
</code></pre><p>然后就是等待，大概十分钟左右就可以训练完毕，毕竟数据量小。</p>
<h2 id="测试网络"><a href="#测试网络" class="headerlink" title="测试网络"></a>测试网络</h2><p>利用训练好的lenet-5模型权值文件（examples/mnist/lenet_iter_10000.caffemodel）可以对测试数据集（或外部数据集）进行预测，在caffe根目录下运行如下命令：</p>
<pre><code>./build/tools/caffe.bin test \-model examples/mnist/lenet_train_test.prototxt \-weights examples/mnist/lenet_iter_10000.caffemodel \-iterations 100
</code></pre><p>命令行解释：<br>./build/tools/caffe.bin test ，表示只做预测（forward前向传播计算），不进行参数更新（backward后向传播计算）<br>-model examples/mnist/lenet_train_test.prototxt ，指定模型描述文本文件<br>-weights examples/mnist/lenet_iter_10000.caffemodel ，指定模型预先训练好的权值文件<br>-iterations 100 ，指定测试迭代次数。参与测试的样例数目为（iterations*batch_size），batch_size在model<br>prototxt中设定，为100时刚好覆盖10000个测试样本。<br>读者可运行上述命令，分析输出日志，与训练阶段输出做对比。</p>
<h2 id="利用训练好的模型预测单张数字图片"><a href="#利用训练好的模型预测单张数字图片" class="headerlink" title="利用训练好的模型预测单张数字图片"></a>利用训练好的模型预测单张数字图片</h2><p>（参考博文： <a href="http://blog.csdn.net/xunan003/article/details/73126425" target="_blank" rel="noopener"> http://blog.csdn.net/xunan003/article/details/73126425
</a><br>）<br>可能大家觉得上面的那些工作都没什么意思，就是敲一堆命令行+看一堆终端输出，所以我特意为大家准备了这部分测试预测自己的数字图片：</p>
<h3 id="思路梳理"><a href="#思路梳理" class="headerlink" title="思路梳理"></a>思路梳理</h3><h4 id="手写数字图片必须满足以下条件："><a href="#手写数字图片必须满足以下条件：" class="headerlink" title="手写数字图片必须满足以下条件："></a>手写数字图片必须满足以下条件：</h4><p>（1）必须是256位黑白色<br>（2）必须是黑底白字<br>（3）像素大小必须是28x28<br>（4）数字在中间，上下左右没有过多空白</p>
<h4 id="利用模型lenet-iter-10000-caffemodel测试单张手写体数字所需要的文件："><a href="#利用模型lenet-iter-10000-caffemodel测试单张手写体数字所需要的文件：" class="headerlink" title="利用模型lenet_iter_10000.caffemodel测试单张手写体数字所需要的文件："></a>利用模型lenet_iter_10000.caffemodel测试单张手写体数字所需要的文件：</h4><p>（1）待测试图片（自己画的也行，网络上下的也行）；需要注意的是，不管是什么格式，都要转换为28*28大小的黑白灰度图像，具体转化方法请自行百度，不想转化的我这里提供给大家一组我转化好的图片资源供大家下载链接:<br><a href="https://pan.baidu.com/s/1boGHQzl" target="_blank" rel="noopener"> https://pan.baidu.com/s/1boGHQzl </a> 密码:<br>qfd6<br>（2）deploy.prototxt（模型描述型文件）；<br>（3）network.caffemodel（模型权值文件），在本例中就是lenet_iter_10000.caffemodel<br>（4）labels.txt（标签文件）；<br>（5）mean.binaryproto（二进制图像均值文件）；<br>（6）classification.bin（二进制程序名）。与二进制均值文件配合使用，只是均值文件不同的模型有不同的均值文件，而这个bin文件为通用的，就是任何模型都可以做分类使用。</p>
<h3 id="所需文件生成"><a href="#所需文件生成" class="headerlink" title="所需文件生成"></a>所需文件生成</h3><h4 id="生成deploy-prototxt文件"><a href="#生成deploy-prototxt文件" class="headerlink" title="生成deploy.prototxt文件"></a>生成deploy.prototxt文件</h4><p>deploy.prototxt文件和lenet_train_test.prototxt文件类似，或者说对后者改动可得到前者。在examples/mnist目录下复制一份lenet_train_test.prototxt修改并保存后得到deploy.prototxt如下：</p>
<pre><code>name: &quot;LeNet&quot;
layer {
  name: &quot;data&quot;
  type: &quot;Input&quot;
  top: &quot;data&quot;
  input_param{shape:{dim:1 dim:1 dim:28 dim:28}} 
}

layer {
  name: &quot;conv1&quot;
  type: &quot;Convolution&quot;
  bottom: &quot;data&quot;
  top: &quot;conv1&quot;
  convolution_param {
    num_output: 20
    kernel_size: 5
    stride: 1
    weight_filler {
      type: &quot;xavier&quot;
    }
  }
}
layer {
  name: &quot;pool1&quot;
  type: &quot;Pooling&quot;
  bottom: &quot;conv1&quot;
  top: &quot;pool1&quot;
  pooling_param {
    pool: MAX
    kernel_size: 2
    stride: 2
  }
}
layer {
  name: &quot;conv2&quot;
  type: &quot;Convolution&quot;
  bottom: &quot;pool1&quot;
  top: &quot;conv2&quot;
  convolution_param {
    num_output: 50
    kernel_size: 5
    stride: 1
    weight_filler {
      type: &quot;xavier&quot;
    }
  }
}
layer {
  name: &quot;pool2&quot;
  type: &quot;Pooling&quot;
  bottom: &quot;conv2&quot;
  top: &quot;pool2&quot;
  pooling_param {
    pool: MAX
    kernel_size: 2
    stride: 2
  }
}
layer {
  name: &quot;ip1&quot;
  type: &quot;InnerProduct&quot;
  bottom: &quot;pool2&quot;
  top: &quot;ip1&quot;
  inner_product_param {
    num_output: 500
    weight_filler {
      type: &quot;xavier&quot;
    }
  }
}
layer {
  name: &quot;relu1&quot;
  type: &quot;ReLU&quot;
  bottom: &quot;ip1&quot;
  top: &quot;ip1&quot;
}
layer {
  name: &quot;ip2&quot;
  type: &quot;InnerProduct&quot;
  bottom: &quot;ip1&quot;
  top: &quot;ip2&quot;
  inner_product_param {
    num_output: 10
    weight_filler {
      type: &quot;xavier&quot;
    }
  }
}
layer {
  name: &quot;prob&quot;
  type: &quot;Softmax&quot;
  bottom: &quot;ip2&quot;
  top: &quot;prob&quot;
}
</code></pre><h4 id="生成labels-txt标签文件"><a href="#生成labels-txt标签文件" class="headerlink" title="生成labels.txt标签文件"></a>生成labels.txt标签文件</h4><p>在当前目录下新建一个txt文件，命名为synset_words.txt，里面内容为我们训练mnist的图片内容，共有0~9十个数，那么我们就建立如下内容的标签文件：<br><img src="https://img-
blog.csdn.net/20171102150605238?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h4 id="生成mean-binaryproto二进制均值文件"><a href="#生成mean-binaryproto二进制均值文件" class="headerlink" title="生成mean.binaryproto二进制均值文件"></a>生成mean.binaryproto二进制均值文件</h4><p>caffe作者为我们提供了一个计算均值的文件compute_image_mean.cpp，放在caffe根目录下的tools文件夹里面，运行下面命令生成mean.binaryproto二进制均值文件:</p>
<pre><code>  sudo build/tools/compute_image_mean examples/mnist/mnist_train_lmdb examples/mnist/mean.binaryproto  
</code></pre><p>生成的mean.binaryproto均值文件保存在了examples/mnist目录下。</p>
<h4 id="分类器classification-bin"><a href="#分类器classification-bin" class="headerlink" title="分类器classification.bin"></a>分类器classification.bin</h4><p>在example文件夹中有一个cpp_classification的文件夹，打开它，有一个名为classification的cpp文件，这就是caffe提供给我们的调用分类网络进行前向计算，得到分类结果的接口。</p>
<h3 id="开始测试"><a href="#开始测试" class="headerlink" title="开始测试"></a>开始测试</h3><p>在caffe根目录下命令：</p>
<pre><code>      ./build/examples/cpp_classification/classification.bin examples/mnist/deploy.prototxt examples/mnist/lenet_iter_10000.caffemodel examples/mnist/mean.binaryproto examples/mnist/synset_words.txt examples/images/3.jpg  
</code></pre><p>然后就可以看到预测结果：<br><img src="https://img-
blog.csdn.net/20171102150948442?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.mashangxue123.com/2017/10/30/安装ubuntu系统时卡在开机logo的解决方案/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DmrfCoder">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DmrfCoder的个人主页">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/30/安装ubuntu系统时卡在开机logo的解决方案/" itemprop="url">安装ubuntu系统时卡在开机logo的解决方案</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-30T15:17:13+08:00">
                2017-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/ubuntu/" itemprop="url" rel="index">
                    <span itemprop="name">ubuntu</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一般出现这种情况大多数是显卡驱动有问题，解决方案如下：<br>1：在开机选择从U盘启动后（我是用U盘装的）会有几个选项让选择，最重要的两个是让你选择使用而不安装还是安装，我们通过上下箭头或者TAB把光标移动到“安装”选项，然后按e，进入grub界面，将这个界面的最后部分的“quiet<br>splash —”改为“nomodeset”。F10保存，就可以进入安装界面，进行安装。<br>2：按照这种方法安装完成后有一个问题就是第二次启动ubuntu系统的时候会卡在启动界面进不去，解决方案：<br>重启，开机时光标选中“Ubuntu”，按“e”，进入grub界面，在刚刚改过的那行(倒数第二行)的末尾加上“ acpi_osi=Linux<br>nomodeset”（nvidia显卡 ），再F10保存重启，就可以进入。<br>但是每次进入都需要这样修改，肯定很麻烦，所以进去之后到/boot/grub/grub.cfg(sudo gedit /<br>boot/grab/grab.cfg)中，找到刚刚在修改界面所看到的那一串代码，在同样的位置加入刚刚所修改的代码，保存退出就好了，这样就可以完美解决开机卡死的问题。<br>说明：本教程只对NVIDIA显卡的电脑有效，其他的没测试过。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.mashangxue123.com/2017/10/30/Ubuntu16.04下配置NDK的方法/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DmrfCoder">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DmrfCoder的个人主页">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/30/Ubuntu16.04下配置NDK的方法/" itemprop="url">Ubuntu16.04下配置NDK的方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-30T11:38:29+08:00">
                2017-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/ndk/" itemprop="url" rel="index">
                    <span itemprop="name">ndk</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>引言：前段时间因为要做百度的mobile-deep-<br>learning，在build其github上的项目时提示要安装配置NDK，网上有很多教程，但是大多不完善（至少我是没找到一个能完整解决我的问题的），历经坎坷终于配置成功，所以将我的配置方法记录下来，希望可以帮到有需要的同学。</p>
<h2 id="下载NDK"><a href="#下载NDK" class="headerlink" title="下载NDK"></a>下载NDK</h2><p>这里提供一种比较好用的下载方法，就是我们可以使用android<br>studio进行NDK的下载（如果没有as的同学也可以到网上手动下载，资源很多的），具体方法如下：<br>打开android studio的settings，然后在搜索框输入NDK，这时会出现如下界面：<br><img src="https://img-
blog.csdn.net/20171030113410346?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>点击SDK Tools会看到：<br><img src="https://img-
blog.csdn.net/20171030113432007?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>在这个列表里你会找到NDK，勾选之后点击Apply即可下载，另外如果正在看此文的你也打算研究一下百度的mobile-deep-<br>learning，你也可以通过相同的下载方式下载Cmake。</p>
<h2 id="配置NDK"><a href="#配置NDK" class="headerlink" title="配置NDK"></a>配置NDK</h2><p>通过android studio下载的NDK默认会放在你的SDK目录下，文件名应为ndk-bundle，接下来介绍如何通过终端配置ndk的环境变量：</p>
<h3 id="首先打开profile："><a href="#首先打开profile：" class="headerlink" title="首先打开profile："></a>首先打开profile：</h3><pre><code>sudo vim /etc/profile
</code></pre><p>没有安装vim的同学也可以使用gedit打开：</p>
<pre><code>sudo gedit /etc/profile
</code></pre><p>打开后在profile文件的末尾加上：</p>
<pre><code>export NDK_HOME=sdkroot/ndk-bundle
PATH=$NDK_HOME:$PATH
</code></pre><p>sdkroot是你的sdk目录，每个人的不一样，视情况而定，下面是我的配置截图：<br><img src="https://img-
blog.csdn.net/20171030113606747?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>添加完成后保存退出，使用以下命令使配置的环境变量生效：</p>
<pre><code>source /etc/profile
</code></pre><h2 id="验证ndk是否配置成功："><a href="#验证ndk是否配置成功：" class="headerlink" title="验证ndk是否配置成功："></a>验证ndk是否配置成功：</h2><pre><code>ndk-build -v
</code></pre><p>出现类似以下输出即说明ndk配置成功：<br><img src="https://img-
blog.csdn.net/20171030113528511?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>End…</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.mashangxue123.com/2017/10/08/Ubuntu16.04下配置caffe（亲测成功）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DmrfCoder">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DmrfCoder的个人主页">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/08/Ubuntu16.04下配置caffe（亲测成功）/" itemprop="url">Ubuntu16.04下配置caffe（亲测成功）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-08T17:55:23+08:00">
                2017-10-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/深度学习之caffe/" itemprop="url" rel="index">
                    <span itemprop="name">深度学习之caffe</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h2><p>历经一个国庆的折腾，终于成功在Ubuntu下搭建好了caffe，过程中遇到的坑真的是数不胜数，最大的一次坑是本来已经配置好了结果手残命令行一阵不知名命令之后电脑崩溃又得重装系统，结果装好系统再配置的时候出现了比第一次更多的坑，真是说多了都是泪，为了让大家避免我遇到的坑，特写此文章，希望能帮助到有的同学，同时说明本人目前是大二本科生，能力有限，文章中如有不正确的地方希望大家积极指出，本人不胜感谢，好了，废话不多说，进入正文！</p>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p><strong>1：安装开发所需依赖包</strong><br><strong>2：下载安装CUDA8.0并验证是否安装成功</strong><br><strong>3:下载安装cudnn并验证是否安装成功</strong><br><strong>4：下载安装opencv并验证是否安装成功</strong><br><strong>5：安装编译caffe</strong></p>
<p><strong>特别说明：</strong><br>1:本教程版本搭配为：Ubuntu16.04+CUDA8.0+Opencv3.1.0，建议初学者尽量按照本教程的搭配进行配置，防止出现版本不搭造成的错误，这一点笔者真是深有体会，当然鼓励大家尝试新版本，如果有成功的同仁麻烦告诉我你的搭配，笔者不胜感激。<br>2:建议大家在输入所有命令之前加上sudo，防止出现“权限不够”这类情况，笔者为了节省时间在教程里面有的需要加sudo的地方没有加，大家可不要偷懒～～<br>3：本文主要参考blog： <a href="http://blog.csdn.net/yhaolpz" target="_blank" rel="noopener"> http://blog.csdn.net/yhaolpz </a><br>，感谢大神博主的教程</p>
<h2 id="安装开发所需依赖包"><a href="#安装开发所需依赖包" class="headerlink" title="安装开发所需依赖包"></a>安装开发所需依赖包</h2><p>命令行直接复制粘贴进以下命令即可：</p>
<pre><code>sudo apt-get install --no-install-recommends libboost-all-dev


 sudo apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libhdf5-serial-dev protobuf-compiler


 sudo apt-get install libopenblas-dev liblapack-dev libatlas-base-dev


 sudo apt-get install libgflags-dev libgoogle-glog-dev liblmdb-dev


 sudo apt-get install git cmake build-essential
</code></pre><p>因为有一定的几率安装失败，而如果刚好某个依赖安装失败导致后期出现莫名的错误那你可就欲哭无泪了，安装完成之后建议大家验证一下是否安装成功，验证方法是再在终端输入一遍sudo<br>apt-get install ..的命令，如图：</p>
<p><img src="https://img-
blog.csdn.net/20171008174717457?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p><img src="https://img-
blog.csdn.net/20171008174802571?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p><img src="https://img-
blog.csdn.net/20171008174958111?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p><img src="https://img-
blog.csdn.net/20171008175030676?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="下载安装CUDA8-0并验证是否安装成功"><a href="#下载安装CUDA8-0并验证是否安装成功" class="headerlink" title="下载安装CUDA8.0并验证是否安装成功"></a>下载安装CUDA8.0并验证是否安装成功</h2><h3 id="下载安装CUDA8-0"><a href="#下载安装CUDA8-0" class="headerlink" title="下载安装CUDA8.0"></a>下载安装CUDA8.0</h3><p>NVIDIA官网提供两种方式来安装CUDA，即run安装和deb安装，这里不建议初学者使用run安装，因为run安装对Linix版本和Linix<br>kernel版本以及GCC版本都有严格要求，稍有不符，可能就会导致失败，所以这里为大家介绍deb方式安装：</p>
<p>首先下载CUDA8.0的deb包（可去官网下，也可至笔者的网盘下载，网盘链接见文末），下载好之后依次键入以下命令：</p>
<pre><code>    sudo dpkg -i cuda-repo-ubuntu1604-8-0-local-ga2_8.0.61-1_amd64.deb
    sudo apt-get update
    sudo apt-get install cuda
</code></pre><h4 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><p>命令：</p>
<pre><code>sudo gedit /etc/profile
</code></pre><p>在文件最后加上</p>
<pre><code>     PATH=/usr/local/cuda/bin:$PATH 
     export PATH
     LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/lib64 
     export LD_ LIBRARY_PATH    
</code></pre><p>使用以下命令使其生效：</p>
<pre><code>source /etc/profile
</code></pre><p>安装完成以后一定要 <strong>重启电脑</strong> 使其生效。</p>
<h3 id="验证CUDA8-0是否安装成功"><a href="#验证CUDA8-0是否安装成功" class="headerlink" title="验证CUDA8.0是否安装成功"></a>验证CUDA8.0是否安装成功</h3><p>重启电脑之后请读者可依次键入以下命令验证CUDA8.0是否安装成功：</p>
<pre><code>    cd /usr/local/cuda-8.0/samples/1_Utilities/deviceQuery
    sudo make
    ./deviceQuery
</code></pre><p>如果看到类似以下信息就说明CUDA安装成功：<br><img src="https://img-
blog.csdn.net/20171008175120021?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="下载安装cudnn并验证是否安装成功"><a href="#下载安装cudnn并验证是否安装成功" class="headerlink" title="下载安装cudnn并验证是否安装成功"></a>下载安装cudnn并验证是否安装成功</h2><h3 id="下载安装cudnn"><a href="#下载安装cudnn" class="headerlink" title="下载安装cudnn"></a>下载安装cudnn</h3><p>读者可以登录官网： <a href="https://developer.nvidia.com/rdp/cudnn-download" target="_blank" rel="noopener"> https://developer.nvidia.com/rdp/cudnn-download
</a> ，注册后下载<br>cudnn，笔者这里上传了我用的cudnn，下载链接见文末。</p>
<p>下载完成后解压，得到一个 cuda 文件夹，该文件夹下include 和 lib64 两个文件夹，命令行进入 cudn/include<br>路径下，然后进行以下操作：</p>
<pre><code>sudo cp cudnn.h /usr/local/cuda/include/  #复制头文件
</code></pre><p>然后命令行进入 cudn/lib64<br>路径下，运行以下命令（注意：下面命令的..so.5.1.10和..so.5视个人的情况而定，如果你没有使用CUDN8.0以及其对应的cudnn版本，..so.后面的数字不一定与下面相同，读者可直接到你的文件目录下模糊查找对应的so版本）：</p>
<pre><code>sudo cp lib* /usr/local/cuda/lib64/ #复制动态链接库
cd /usr/local/cuda/lib64/
sudo rm -rf libcudnn.so libcudnn.so.5 #删除原有动态文件
sudo ln -s libcudnn.so.5.1.10 libcudnn.so.5 #生成软衔接
sudo ln -s libcudnn.so.5 libcudnn.so #生成软链接
</code></pre><h3 id="验证cudnn是否安装成功"><a href="#验证cudnn是否安装成功" class="headerlink" title="验证cudnn是否安装成功"></a>验证cudnn是否安装成功</h3><p>键入以下命令：</p>
<pre><code>nvcc -V
</code></pre><p>如果出现类似以下内容则说明安装成功：</p>
<p><img src="https://img-
blog.csdn.net/20171008175156262?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="下载安装opencv并验证是否安装成功"><a href="#下载安装opencv并验证是否安装成功" class="headerlink" title="下载安装opencv并验证是否安装成功"></a>下载安装opencv并验证是否安装成功</h2><h3 id="下载安装opencv"><a href="#下载安装opencv" class="headerlink" title="下载安装opencv"></a>下载安装opencv</h3><p>读者可进入官网 : <a href="http://opencv.org/releases.html" target="_blank" rel="noopener"> http://opencv.org/releases.html </a><br>, 选择 3.1.0 版本的 source , 下载 opencv-3.1.0.zip<br>，也可至笔者的网盘下载，下载链接见文末，下载后解压至你想安装的目录，命令行进入已解压的文件夹 opencv-3.1.0 目录下，执行以下命令：</p>
<pre><code>mkdir build # 创建编译的文件目录
cd build
cmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr/local ..
make -j8  #编译
</code></pre><p>这里需要注意的是，在执行cmake…的时候会下载一个压缩包，下载的地址是被墙掉的，可能大家有的人给自己的chrome搭了梯子，但是因为是通过终端下载的，所以就算你的chrome可以上外网也不一定下的来（因为你的终端不一定可以翻过去），这就导致会报类似如下的错误：</p>
<p><img src="https://img-
blog.csdn.net/20171008175248069?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>解决方法是读者去网上自行找下好的包然后导入，但是网上大多都是要积分才能下载的，这里笔者上传我的包（其实我也是花积分下载的）免费给大家，也算是为人民服务哈哈，下载链接同样见文末，下载后直接把下载的压缩包放入<br><strong>你的opencv目录/opencv-3.1.0/3rdparty/ippicv/downloads/linux-808b791a6eac9ed78d32a7666804320e</strong><br>下，然后再次执行cmake…就可以正常了。<br>编译成功后进行安装：</p>
<pre><code>sudo make install 
</code></pre><p>PS：<br>1:make 的时候可能会报错：</p>
<pre><code>CMake Error at cuda_compile_generated_matrix_operations.cu.o.cmake :206 (message):
Error generating
/home/yy/opencv-2.4.9/build/modules/core/CMakeFiles/cuda_compile.dir/__/dynamicuda/src/cuda/./cuda_compile_generated_matrix_operations.cu.o


make[2]: *** [modules/core/CMakeFiles/cuda_compile.dir/__/dynamicuda/src/cuda/./cuda_compile_generated_matrix_operations.cu.o] 错误 1
make[1]: *** [modules/core/CMakeFiles/opencv_core.dir/all] 错误 2
make: *** [all] 错误 2
</code></pre><p>解决方案</p>
<p><code>sudo cmake -D CMAKE_BUILD_TYPE=bulid -D CMAKE_INSTALL_PREFIX=/usr/local -D
CUDA_GENERATION=Kepler ..</code></p>
<p>然后再make。</p>
<p>sudo make时，也可能出现</p>
<pre><code>     make[2]: *** [modules/cudalegacy/CMakeFiles/opencv_cudalegacy.dir/src/graphcuts.cpp.o] Error 1
        make[1]: *** [modules/cudalegacy/CMakeFiles/opencv_cudalegacy.dir/all] Error 2
        make: *** [all] Error 2
</code></pre><p>的错误。<br>那是因为 cuda-8.0与OpenCV 3.1.0发生了冲突。解决方法：修改openCV 3.1.0源码，使其兼容cuda-8.0</p>
<pre><code> sudo gedit opencv-3.1.0/modules/cudalegacy/src/graphcuts.cpp
</code></pre><p>将第四十五行位置的</p>
<pre><code>    #if !defined (HAVE_CUDA) || defined (CUDA_DISABLER)
</code></pre><p>改为</p>
<pre><code> #if !defined(HAVE_CUDA)||defined(CUDA_DISABLER)||(CUDART_VERSION&gt;=8000)
</code></pre><p>然后重新执行make.</p>
<h3 id="验证opencv安装是否成功"><a href="#验证opencv安装是否成功" class="headerlink" title="验证opencv安装是否成功"></a>验证opencv安装是否成功</h3><p>在终端输入以下命令：</p>
<pre><code>pkg-config --modversion opencv  
</code></pre><p>如果正常输出opencv版本则说明opencv安装成功。</p>
<h2 id="下载配置编译caffe"><a href="#下载配置编译caffe" class="headerlink" title="下载配置编译caffe"></a>下载配置编译caffe</h2><h3 id="下载caffe"><a href="#下载caffe" class="headerlink" title="下载caffe"></a>下载caffe</h3><p>首先在你要安装的路径下 clone ：</p>
<pre><code>git clone https://github.com/BVLC/caffe.git
</code></pre><h3 id="配置caffe（这部分引自大神的blog）"><a href="#配置caffe（这部分引自大神的blog）" class="headerlink" title="配置caffe（这部分引自大神的blog）"></a>配置caffe（这部分引自大神的blog）</h3><p>进入 caffe ，将 Makefile.config.example 文件复制一份并更名为 Makefile.config ：</p>
<pre><code>sudo cp Makefile.config.example Makefile.config
</code></pre><p>然后修改 Makefile.config 文件，在 caffe 目录下打开该文件：</p>
<pre><code>sudo gedit Makefile.config
</code></pre><p>修改 Makefile.config 文件内容：</p>
<p>将  </p>
<h1 id="USE-CUDNN-1"><a href="#USE-CUDNN-1" class="headerlink" title="USE_CUDNN := 1"></a>USE_CUDNN := 1</h1><p>修改成：<br>USE_CUDNN := 1</p>
<p>将  </p>
<h1 id="OPENCV-VERSION-3"><a href="#OPENCV-VERSION-3" class="headerlink" title="OPENCV_VERSION := 3"></a>OPENCV_VERSION := 3</h1><p>修改为：<br>OPENCV_VERSION := 3</p>
<p>将  </p>
<h1 id="WITH-PYTHON-LAYER-1"><a href="#WITH-PYTHON-LAYER-1" class="headerlink" title="WITH_PYTHON_LAYER := 1"></a>WITH_PYTHON_LAYER := 1</h1><p>修改为<br>WITH_PYTHON_LAYER := 1</p>
<p>将</p>
<pre><code>INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include
LIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib 


修改为： 



INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include /usr/include/hdf5/serial

LIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib /usr/lib/x86_64-linux-gnu /usr/lib/x86_64-linux-gnu/hdf5/serial
</code></pre><p>然后修改 caffe 目录下的 Makefile 文件：<br>将：</p>
<pre><code>NVCCFLAGS +=-ccbin=$(CXX) -Xcompiler-fPIC $(COMMON_FLAGS)
</code></pre><p>替换为：</p>
<pre><code>NVCCFLAGS += -D_FORCE_INLINES -ccbin=$(CXX) -Xcompiler -fPIC $(COMMON_FLAGS)
</code></pre><p>将：</p>
<pre><code>LIBRARIES += glog gflags protobuf boost_system boost_filesystem m hdf5_hl hdf5
</code></pre><p>改为：</p>
<pre><code>LIBRARIES += glog gflags protobuf boost_system boost_filesystem m hdf5_serial_hl hdf5_serial
</code></pre><p>然后修改 /usr/local/cuda/include/host_config.h 文件 :</p>
<p>将</p>
<pre><code>`#error-- unsupported GNU version! gcc versions later than 4.9 are not` supported!
</code></pre><p>改为</p>
<pre><code>    //#error-- unsupported GNU version! gcc versions later than 4.9 are not supported!
</code></pre><h3 id="编译caffe"><a href="#编译caffe" class="headerlink" title="编译caffe"></a>编译caffe</h3><p>键入以下命令：</p>
<pre><code>make all -j8
</code></pre><p>这里的-j后面的参数试你电脑的配置决定<br>PS:后期有几位小伙伴按照上面的配置之后在make这里报错，贴出几个常见的报错信息及解决方案：<br>1：</p>
<pre><code>error while loading shared libraries: libopencv_core.so.2.2: cannot open shared object file: No such file or directory
</code></pre><p>注：每个人的libopencv_core.so后面的数字不一样，但是大概是这个么个报错<br>解决方案1：这个错误可能是因为你没有装ffmpeg，输入</p>
<pre><code>sudo apt-get install ffmpeg
</code></pre><p>安装，安装成功之后再执行make即可。<br>解决方案2：如果使用解决方案1无效，则：<br>在/usr/local/lib下搜索报错信息中的.so文件（比如示例报错信息就是搜索libopencv_core.so.2.2），如果找到该共享库的话，那么在/etc/ld.so.conf.d/xxxx.conf<br>注意（xxxx.conf）是你自己命名的。比如我缺少opencv库 那么我就写<br>opencv.conf。接下来，就在xxxx.conf文件中写path路径，比如说共享库在/usr/local/opencv/libopencv_core.so.2.4中的话，你就写<br>/usr/local/opencv/<br>最后 sudo ldconfig -v 如果有共享库输出的话，就证明成功了。<br>2：fatal error: hdf5.h<br>解决方案：<br>在Makefile.config文件中把下面第一行代码改为第二行代码：</p>
<pre><code>INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include
1
INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include /usr/include/hdf5/serial/
1
</code></pre><p>在Makefile文件中把下面第一行代码改为第二行代码。</p>
<pre><code>LIBRARIES += glog gflags protobuf boost_system boost_filesystem m hdf5_hl hdf5
1
LIBRARIES += glog gflags protobuf boost_system boost_filesystem m hdf5_serial_hl hdf5_serial
1
</code></pre><h3 id="测试caffe"><a href="#测试caffe" class="headerlink" title="测试caffe"></a>测试caffe</h3><p>键入以下命令：</p>
<pre><code>make runtest -j8
</code></pre><p>PS:这里可能会出现如下错误：</p>
<p>error while loading shared libraries: libcudart.so.8.0: cannot open shared<br>object file: No such file or directory</p>
<p>解决方案：</p>
<p>sudo ldconfig /usr/local/cuda/lib64</p>
<p>如果出现类似如下信息则说明caffe配置成功：<br><img src="https://img-
blog.csdn.net/20171008175515060?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5ODIxNjA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p><strong>至此我们就完成caffe的配置工作了，希望大家可以积极指出本文的不足之处便于笔者改正，不胜感激，最后给出本文的所有资源大礼包，下载链接:<a href="https://pan.baidu.com/s/1pKU5hrX" target="_blank" rel="noopener"><br>https://pan.baidu.com/s/1pKU5hrX </a> 密码: xk5x
</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/12/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">DmrfCoder</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">127</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">90</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DmrfCoder</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src=""></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  


  

  

</body>
</html>
